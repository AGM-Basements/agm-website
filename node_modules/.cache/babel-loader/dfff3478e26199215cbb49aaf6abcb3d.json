{"ast":null,"code":"var _jsxFileName = \"/Users/mathewmozaffari/Desktop/Current Clients/AGM Basements/src/speer/agm_basements/src/Containers/Braintree.js\";\nimport React from \"react\";\nimport DropIn from \"braintree-web-drop-in-react\";\n\nclass Braintree extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      clientToken: 'eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpGVXpJMU5pSXNJbXRwWkNJNklqSXdNVGd3TkRJMk1UWXRjMkZ1WkdKdmVDSXNJbWx6Y3lJNklrRjFkR2g1SW4wLmV5SmxlSEFpT2pFMU9EQTVNakU1T0RFc0ltcDBhU0k2SW1NMFlUVTVORFF5TFRnNE5UVXROR05oTnkwNU9UZzRMVEUyWldGaU5qWm1PRGsxTXlJc0luTjFZaUk2SW5FM05qYzRlSHB3T1RNMk0zZG1aM2NpTENKcGMzTWlPaUpCZFhSb2VTSXNJbTFsY21Ob1lXNTBJanA3SW5CMVlteHBZMTlwWkNJNkluRTNOamM0ZUhwd09UTTJNM2RtWjNjaUxDSjJaWEpwWm5sZlkyRnlaRjlpZVY5a1pXWmhkV3gwSWpwbVlXeHpaWDBzSW5KcFoyaDBjeUk2V3lKdFlXNWhaMlZmZG1GMWJIUWlYU3dpYjNCMGFXOXVjeUk2ZTMxOS5rWktqS3ZHRHNYTUZUTkRTUFFLd1dZV2E2QlNNMnlkT2dpVFJnaTlQX1poV1VpNDlXQ2JOQ0lpVDRJYzRDYUZsN0Y3UXN2OEFVbm1VNGhoSVBqMkx6QSIsImNvbmZpZ1VybCI6Imh0dHBzOi8vYXBpLnNhbmRib3guYnJhaW50cmVlZ2F0ZXdheS5jb206NDQzL21lcmNoYW50cy9xNzY3OHh6cDkzNjN3Zmd3L2NsaWVudF9hcGkvdjEvY29uZmlndXJhdGlvbiIsImdyYXBoUUwiOnsidXJsIjoiaHR0cHM6Ly9wYXltZW50cy5zYW5kYm94LmJyYWludHJlZS1hcGkuY29tL2dyYXBocWwiLCJkYXRlIjoiMjAxOC0wNS0wOCJ9LCJjaGFsbGVuZ2VzIjpbXSwiZW52aXJvbm1lbnQiOiJzYW5kYm94IiwiY2xpZW50QXBpVXJsIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbTo0NDMvbWVyY2hhbnRzL3E3Njc4eHpwOTM2M3dmZ3cvY2xpZW50X2FwaSIsImFzc2V0c1VybCI6Imh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tIiwiYXV0aFVybCI6Imh0dHBzOi8vYXV0aC52ZW5tby5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tIiwiYW5hbHl0aWNzIjp7InVybCI6Imh0dHBzOi8vb3JpZ2luLWFuYWx5dGljcy1zYW5kLnNhbmRib3guYnJhaW50cmVlLWFwaS5jb20vcTc2Nzh4enA5MzYzd2ZndyJ9LCJ0aHJlZURTZWN1cmVFbmFibGVkIjp0cnVlLCJwYXlwYWxFbmFibGVkIjp0cnVlLCJwYXlwYWwiOnsiZGlzcGxheU5hbWUiOiJBR00gQmFzZW1lbnRzIiwiY2xpZW50SWQiOm51bGwsInByaXZhY3lVcmwiOiJodHRwOi8vZXhhbXBsZS5jb20vcHAiLCJ1c2VyQWdyZWVtZW50VXJsIjoiaHR0cDovL2V4YW1wbGUuY29tL3RvcyIsImJhc2VVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbSIsImFzc2V0c1VybCI6Imh0dHBzOi8vY2hlY2tvdXQucGF5cGFsLmNvbSIsImRpcmVjdEJhc2VVcmwiOm51bGwsImFsbG93SHR0cCI6dHJ1ZSwiZW52aXJvbm1lbnROb05ldHdvcmsiOnRydWUsImVudmlyb25tZW50Ijoib2ZmbGluZSIsInVudmV0dGVkTWVyY2hhbnQiOmZhbHNlLCJicmFpbnRyZWVDbGllbnRJZCI6Im1hc3RlcmNsaWVudDMiLCJiaWxsaW5nQWdyZWVtZW50c0VuYWJsZWQiOnRydWUsIm1lcmNoYW50QWNjb3VudElkIjoiYWdtYmFzZW1lbnRzIiwiY3VycmVuY3lJc29Db2RlIjoiQ0FEIn0sIm1lcmNoYW50SWQiOiJxNzY3OHh6cDkzNjN3Zmd3IiwidmVubW8iOiJvZmYifQ'\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      // Get a client token for authorization from your server\n      const response = await fetch(\"api/braintree/getToken\");\n      const res = await response.json(); // If returned as JSON string\n\n      if (res.clientToken) {\n        this.setState({\n          clientToken: res.clientToken\n        });\n      } else {\n        console.log(\"Res\", res); // alert('Something went wrong. Please try again after some time. > '+res.name);\n      }\n    } catch (e) {\n      console.log(\"Error > \", e); // alert('Something went wrong. Please try again after some time.');\n    }\n  }\n\n  async buy() {\n    // Send the nonce to your server\n    const _ref = await this.instance.requestPaymentMethod(),\n          nonce = _ref.nonce;\n\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"paymentMethodNonce\": nonce\n      })\n    };\n    const response = await fetch(`api/braintree/purchase`, requestOptions);\n    const res = await response.json(); // If returned as JSON string\n\n    if (res.success === false) {// alert('Something went wrong >' + res.message);\n    }\n  }\n\n  render() {\n    if (!this.state.clientToken) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Loading...\"));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(DropIn, {\n        options: {\n          authorization: this.state.clientToken\n        },\n        onInstance: instance => this.instance = instance,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.buy.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Buy\"));\n    }\n  }\n\n}\n\nexport default Braintree;","map":{"version":3,"sources":["/Users/mathewmozaffari/Desktop/Current Clients/AGM Basements/src/speer/agm_basements/src/Containers/Braintree.js"],"names":["React","DropIn","Braintree","Component","state","clientToken","componentDidMount","response","fetch","res","json","setState","console","log","e","buy","instance","requestPaymentMethod","nonce","requestOptions","method","headers","body","JSON","stringify","success","render","authorization","bind"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;;AAEA,MAAMC,SAAN,SAAwBF,KAAK,CAACG,SAA9B,CAAwC;AAAA;AAAA;AAAA,SAGpCC,KAHoC,GAG5B;AACJC,MAAAA,WAAW,EAAE;AADT,KAH4B;AAAA;;AAOpC,QAAMC,iBAAN,GAA0B;AACtB,QAAI;AACA;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,wBAAD,CAA5B;AACA,YAAMC,GAAG,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAlB,CAHA,CAGmC;;AAEnC,UAAGD,GAAG,CAACJ,WAAP,EAAmB;AACf,aAAKM,QAAL,CAAc;AACVN,UAAAA,WAAW,EAAEI,GAAG,CAACJ;AADP,SAAd;AAGH,OAJD,MAIO;AACHO,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBJ,GAAnB,EADG,CAEH;AACH;AACJ,KAbD,CAaE,OAAMK,CAAN,EAAS;AACPF,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBC,CAAxB,EADO,CAEP;AACH;AACJ;;AAED,QAAMC,GAAN,GAAY;AACR;AADQ,iBAEU,MAAM,KAAKC,QAAL,CAAcC,oBAAd,EAFhB;AAAA,UAEAC,KAFA,QAEAA,KAFA;;AAIR,UAAMC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,OAAO,EAAE;AACL,kBAAU,kBADL;AAEL,wBAAgB;AAFX,OAFU;AAMnBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAC,8BAAsBN;AAAvB,OAAf;AANa,KAAvB;AAQA,UAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAE,wBAAF,EAA2BW,cAA3B,CAA5B;AACA,UAAMV,GAAG,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAlB,CAbQ,CAa2B;;AAEnC,QAAGD,GAAG,CAACgB,OAAJ,KAAgB,KAAnB,EAAyB,CACrB;AACH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AACL,QAAI,CAAC,KAAKtB,KAAL,CAAWC,WAAhB,EAA6B;AACzB,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ;AAKH,KAND,MAMO;AACH,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AACI,QAAA,OAAO,EAAE;AAAEsB,UAAAA,aAAa,EAAE,KAAKvB,KAAL,CAAWC;AAA5B,SADb;AAEI,QAAA,UAAU,EAAEW,QAAQ,IAAK,KAAKA,QAAL,GAAgBA,QAF7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAKI;AAAQ,QAAA,OAAO,EAAE,KAAKD,GAAL,CAASa,IAAT,CAAc,IAAd,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALJ,CADJ;AASH;AACJ;;AAjEmC;;AAmExC,eAAe1B,SAAf","sourcesContent":["import React from \"react\";\nimport DropIn from \"braintree-web-drop-in-react\";\n\nclass Braintree extends React.Component {\n    instance;\n\n    state = {\n        clientToken: 'eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpGVXpJMU5pSXNJbXRwWkNJNklqSXdNVGd3TkRJMk1UWXRjMkZ1WkdKdmVDSXNJbWx6Y3lJNklrRjFkR2g1SW4wLmV5SmxlSEFpT2pFMU9EQTVNakU1T0RFc0ltcDBhU0k2SW1NMFlUVTVORFF5TFRnNE5UVXROR05oTnkwNU9UZzRMVEUyWldGaU5qWm1PRGsxTXlJc0luTjFZaUk2SW5FM05qYzRlSHB3T1RNMk0zZG1aM2NpTENKcGMzTWlPaUpCZFhSb2VTSXNJbTFsY21Ob1lXNTBJanA3SW5CMVlteHBZMTlwWkNJNkluRTNOamM0ZUhwd09UTTJNM2RtWjNjaUxDSjJaWEpwWm5sZlkyRnlaRjlpZVY5a1pXWmhkV3gwSWpwbVlXeHpaWDBzSW5KcFoyaDBjeUk2V3lKdFlXNWhaMlZmZG1GMWJIUWlYU3dpYjNCMGFXOXVjeUk2ZTMxOS5rWktqS3ZHRHNYTUZUTkRTUFFLd1dZV2E2QlNNMnlkT2dpVFJnaTlQX1poV1VpNDlXQ2JOQ0lpVDRJYzRDYUZsN0Y3UXN2OEFVbm1VNGhoSVBqMkx6QSIsImNvbmZpZ1VybCI6Imh0dHBzOi8vYXBpLnNhbmRib3guYnJhaW50cmVlZ2F0ZXdheS5jb206NDQzL21lcmNoYW50cy9xNzY3OHh6cDkzNjN3Zmd3L2NsaWVudF9hcGkvdjEvY29uZmlndXJhdGlvbiIsImdyYXBoUUwiOnsidXJsIjoiaHR0cHM6Ly9wYXltZW50cy5zYW5kYm94LmJyYWludHJlZS1hcGkuY29tL2dyYXBocWwiLCJkYXRlIjoiMjAxOC0wNS0wOCJ9LCJjaGFsbGVuZ2VzIjpbXSwiZW52aXJvbm1lbnQiOiJzYW5kYm94IiwiY2xpZW50QXBpVXJsIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbTo0NDMvbWVyY2hhbnRzL3E3Njc4eHpwOTM2M3dmZ3cvY2xpZW50X2FwaSIsImFzc2V0c1VybCI6Imh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tIiwiYXV0aFVybCI6Imh0dHBzOi8vYXV0aC52ZW5tby5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tIiwiYW5hbHl0aWNzIjp7InVybCI6Imh0dHBzOi8vb3JpZ2luLWFuYWx5dGljcy1zYW5kLnNhbmRib3guYnJhaW50cmVlLWFwaS5jb20vcTc2Nzh4enA5MzYzd2ZndyJ9LCJ0aHJlZURTZWN1cmVFbmFibGVkIjp0cnVlLCJwYXlwYWxFbmFibGVkIjp0cnVlLCJwYXlwYWwiOnsiZGlzcGxheU5hbWUiOiJBR00gQmFzZW1lbnRzIiwiY2xpZW50SWQiOm51bGwsInByaXZhY3lVcmwiOiJodHRwOi8vZXhhbXBsZS5jb20vcHAiLCJ1c2VyQWdyZWVtZW50VXJsIjoiaHR0cDovL2V4YW1wbGUuY29tL3RvcyIsImJhc2VVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbSIsImFzc2V0c1VybCI6Imh0dHBzOi8vY2hlY2tvdXQucGF5cGFsLmNvbSIsImRpcmVjdEJhc2VVcmwiOm51bGwsImFsbG93SHR0cCI6dHJ1ZSwiZW52aXJvbm1lbnROb05ldHdvcmsiOnRydWUsImVudmlyb25tZW50Ijoib2ZmbGluZSIsInVudmV0dGVkTWVyY2hhbnQiOmZhbHNlLCJicmFpbnRyZWVDbGllbnRJZCI6Im1hc3RlcmNsaWVudDMiLCJiaWxsaW5nQWdyZWVtZW50c0VuYWJsZWQiOnRydWUsIm1lcmNoYW50QWNjb3VudElkIjoiYWdtYmFzZW1lbnRzIiwiY3VycmVuY3lJc29Db2RlIjoiQ0FEIn0sIm1lcmNoYW50SWQiOiJxNzY3OHh6cDkzNjN3Zmd3IiwidmVubW8iOiJvZmYifQ'\n    };\n\n    async componentDidMount() {\n        try {\n            // Get a client token for authorization from your server\n            const response = await fetch(\"api/braintree/getToken\");\n            const res = await response.json(); // If returned as JSON string\n\n            if(res.clientToken){\n                this.setState({\n                    clientToken: res.clientToken\n                });\n            } else {\n                console.log(\"Res\", res);\n                // alert('Something went wrong. Please try again after some time. > '+res.name);\n            }\n        } catch(e) {\n            console.log(\"Error > \", e)\n            // alert('Something went wrong. Please try again after some time.');\n        }\n    }\n\n    async buy() {\n        // Send the nonce to your server\n        const { nonce } = await this.instance.requestPaymentMethod();\n\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n              },\n            body: JSON.stringify({\"paymentMethodNonce\": nonce})\n        };\n        const response = await fetch(`api/braintree/purchase`, requestOptions);\n        const res = await response.json(); // If returned as JSON string\n\n        if(res.success === false){\n            // alert('Something went wrong >' + res.message);\n        }\n    }\n\n    render() {\n        if (!this.state.clientToken) {\n            return (\n                <div>\n                    <h1>Loading...</h1>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <DropIn\n                        options={{ authorization: this.state.clientToken }}\n                        onInstance={instance => (this.instance = instance)}\n                    />\n                    <button onClick={this.buy.bind(this)}>Buy</button>\n                </div>\n            );\n        }\n    }\n}\nexport default Braintree;"]},"metadata":{},"sourceType":"module"}