{"ast":null,"code":"var _jsxFileName = \"/Users/mathewmozaffari/Desktop/Current Clients/AGM Basements/src/speer/agm_basements/src/Containers/Warranty.js\";\nimport React, { Component, Suspense, lazy } from 'react';\nimport { Helmet } from 'react-helmet';\nimport GeneralBanner from '../Common/BannerParts/GeneralBanner';\nimport CustomerInfo from './WarrantySteps/CustomerInfo';\nimport UploadFiles from './WarrantySteps/UploadFiles';\nimport Issues from './WarrantySteps/Issues';\n\nclass Warranty extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      step: 1,\n      loading: false,\n      data: {}\n    };\n\n    this.submitWarrantyIssue = async data => {\n      const formData = new FormData();\n      formData.append('first_name', data.first_name);\n      formData.append('last_name', data.last_name);\n      formData.append('mobile_number', data.mobile_number);\n      formData.append('email_address', data.email_address);\n      formData.append('street_address', data.street_address);\n      formData.append('street_address_line_two', data.street_address_line_two);\n      formData.append('city', data.city);\n      formData.append('state_province_region', data.state_province_region);\n      formData.append('postal_code', data.postal_code);\n      formData.append('type_of_issue', data.type_of_issue);\n      formData.append('description', data.description);\n      data.warrany_files.map(file => {\n        formData.append('warranty_files', file);\n      });\n      data.issue_files.map(file => {\n        formData.append('warranty_files', file);\n      });\n      const requestOptions = {\n        method: 'POST',\n        body: formData\n      };\n      const response = await fetch(`https://braintreeagm.afuntestenvironment.dev/api/submitWarrantyIssue`, requestOptions);\n\n      try {\n        const res = await response.json(); // If returned as JSON string\n\n        if (res.success !== false) {\n          this.setState({\n            loading: false,\n            data: {},\n            step: 1\n          });\n        } else {\n          this.setState({\n            loading: false\n          });\n        }\n      } catch (e) {\n        this.setState({\n          loading: false\n        });\n      }\n    };\n\n    this.stepComplete = v => {\n      const _this$state = this.state,\n            step = _this$state.step,\n            data = _this$state.data;\n\n      if (step === 1) {\n        this.setState({\n          data: v\n        }, () => {\n          this.setState({\n            step: 2\n          });\n        });\n      } else if (step === 2) {\n        data.warrany_files = v;\n        this.setState({\n          data: data\n        }, () => {\n          this.setState({\n            step: 3\n          });\n        });\n      } else if (step === 3) {\n        data.type_of_issue = v.type_of_issue;\n        data.description = v.description;\n        data.issue_files = v.files;\n        this.setState({\n          data: data,\n          loading: true\n        }, () => {\n          this.submitWarrantyIssue(data);\n        });\n      }\n    };\n  }\n\n  render() {\n    const step = this.state.step;\n    return React.createElement(React.Fragment, null, React.createElement(Helmet, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"AGM Basements | Basement Renovations | Warranty\"), React.createElement(\"meta\", {\n      name: \"description\",\n      content: \"AGM Basements has a 4.5-star rating with over 200 Google Reviews as GTA\\u2019s top-rated basement renovations we provide 100% customer satisfaction.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(GeneralBanner, {\n      title: \"Warranty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"form-steps\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"step customer_info \" + (step === 1 ? 'current' : ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"count\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Your Info\")), React.createElement(\"div\", {\n      className: \"step warranty_info \" + (step === 2 ? 'current' : ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"count\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Warranty Info\")), React.createElement(\"div\", {\n      className: \"step issue_info \" + (step === 3 ? 'current' : ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"count\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Issue\"))), React.createElement(\"div\", {\n      id: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      action: \"/\",\n      id: \"warranty-form\",\n      className: \"dropzone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"step1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.state.step === 1 && React.createElement(CustomerInfo, {\n      stepComplete: data => this.stepComplete(data),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"step2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.state.step === 2 && React.createElement(UploadFiles, {\n      stepComplete: data => this.stepComplete(data),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"step3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, this.state.step === 3 && React.createElement(Issues, {\n      stepComplete: data => this.stepComplete(data),\n      loading: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nWarranty.propTypes = {};\nexport default Warranty;","map":{"version":3,"sources":["/Users/mathewmozaffari/Desktop/Current Clients/AGM Basements/src/speer/agm_basements/src/Containers/Warranty.js"],"names":["React","Component","Suspense","lazy","Helmet","GeneralBanner","CustomerInfo","UploadFiles","Issues","Warranty","state","step","loading","data","submitWarrantyIssue","formData","FormData","append","first_name","last_name","mobile_number","email_address","street_address","street_address_line_two","city","state_province_region","postal_code","type_of_issue","description","warrany_files","map","file","issue_files","requestOptions","method","body","response","fetch","res","json","success","setState","e","stepComplete","v","files","render","propTypes"],"mappings":"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","sourcesContent":["import React, { Component, Suspense, lazy } from 'react';\nimport { Helmet } from 'react-helmet';\nimport GeneralBanner from '../Common/BannerParts/GeneralBanner';\n\nimport CustomerInfo from './WarrantySteps/CustomerInfo';\nimport UploadFiles from './WarrantySteps/UploadFiles';\nimport Issues from './WarrantySteps/Issues';\n\nclass Warranty extends Component {\n    static propTypes = {\n    };\n\n    state = {\n        step: 1,\n        loading: false,\n        data: {}\n    };\n\n    submitWarrantyIssue = async (data) => {\n        const formData = new FormData();\n        formData.append('first_name', data.first_name);\n        formData.append('last_name', data.last_name);\n        formData.append('mobile_number', data.mobile_number);\n        formData.append('email_address', data.email_address);\n        formData.append('street_address', data.street_address);\n        formData.append('street_address_line_two', data.street_address_line_two);\n        formData.append('city', data.city);\n        formData.append('state_province_region', data.state_province_region);\n        formData.append('postal_code', data.postal_code);\n        formData.append('type_of_issue', data.type_of_issue);\n        formData.append('description', data.description);\n\n        data.warrany_files.map(file => {\n            formData.append('warranty_files', file)\n        });\n        data.issue_files.map(file => {\n            formData.append('warranty_files', file)\n        });\n\n        const requestOptions = {\n            method: 'POST',\n            body: formData\n        };\n        \n        const response = await fetch(`https://braintreeagm.afuntestenvironment.dev/api/submitWarrantyIssue`, requestOptions);\n        try {\n            const res = await response.json(); // If returned as JSON string\n            if(res.success !== false){\n                this.setState({loading: false, data: {}, step: 1})\n            } else {\n                this.setState({loading: false});\n            }\n        } catch(e) {\n            this.setState({loading: false});\n        }\n    };\n\n    stepComplete = (v) => {\n        const {step, data} = this.state;\n        if(step === 1) {\n            this.setState({\n                data: v\n            }, () => {\n                this.setState({ step: 2 });\n            });\n        } else if (step === 2) {\n            data.warrany_files = v;\n            this.setState({\n                data: data\n            }, () => {\n                this.setState({ step: 3 });\n            });\n        } else if (step === 3) {\n            data.type_of_issue = v.type_of_issue;\n            data.description = v.description;\n            data.issue_files = v.files;\n            this.setState({\n                data: data,\n                loading: true\n            }, () => {\n                this.submitWarrantyIssue(data)\n            });\n        }\n    }\n\n    render() {\n        const {step} = this.state;\n        return (\n            <>\n            <Helmet>\n                <title>AGM Basements | Basement Renovations | Warranty</title>\n                <meta name=\"description\" content=\"AGM Basements has a 4.5-star rating with over 200 Google Reviews as GTA’s top-rated basement renovations we provide 100% customer satisfaction.\" />\n            </Helmet>\n            <GeneralBanner title=\"Warranty\" />\n            <div id=\"form-steps\">\n                <div className={\"step customer_info \"+(step === 1 ? 'current' : '')}>\n                    <div className=\"count\">1</div>\n                    <p>Your Info</p>\n                </div>\n\n                <div className={\"step warranty_info \"+(step === 2 ? 'current' : '')}>\n                    <div className=\"count\">2</div>\n                    <p>Warranty Info</p>\n                </div>\n\n                <div className={\"step issue_info \"+(step === 3 ? 'current' : '')}>\n                    <div className=\"count\">3</div>\n                    <p>Issue</p>\n                </div>\n            </div>\n            {/* <!-- end steps --> */}\n\n            <div id=\"form\">\n                <div className=\"container\">\n                    <form action=\"/\" id=\"warranty-form\" className=\"dropzone\">\n                        <div className=\"step1\">\n                            {this.state.step === 1 && <CustomerInfo stepComplete={(data) => this.stepComplete(data)} />}\n                        </div>\n\n                        <div className=\"step2\">\n                            {this.state.step === 2 && <UploadFiles stepComplete={(data) => this.stepComplete(data)} />}\n                        </div>\n\n                        <div className=\"step3\">\n                            {this.state.step === 3 && <Issues stepComplete={(data) => this.stepComplete(data)} loading={this.state.loading} />}\n                        </div>\n                    </form>\n                </div>\n            </div>\n            </>\n        );\n    }\n}\n\nexport default Warranty;"]},"metadata":{},"sourceType":"module"}